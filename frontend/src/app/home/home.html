<!-- ================= MAIN LAYOUT CONTAINER ================= -->
<div class="layout-container">

  <div class="main-content">

    <div class="content-wrapper">

      <div class="content-body">

        <!-- ================= LEFT CONTENT ================= -->
        <div class="left-content">

          <!-- SEARCH -->
          <div class="search-section">
            <h3>Search Catalog</h3>

            <div class="search-row">

              <select [(ngModel)]="searchType">
                <option *ngFor="let option of searchOptions" [value]="option">
                  {{ option }}
                </option>
              </select>

              <input type="text"
                    [(ngModel)]="searchQuery"
                    placeholder="Enter search value"
                    class="search-input" />

              <button (click)="performSearch()">Search</button>
            </div>
          </div>

          <!-- ================= MANUAL ================= -->
          <div class="manual-section">
            <h3>Manual Cataloging</h3>

            <form (ngSubmit)="submitManualCatalog()">

              <div class="form-group">
                <label>ISBN</label>
                <input type="text"
                      [(ngModel)]="manualBook.isbn"
                      name="isbn"
                      required />
              </div>

              <div class="form-group">
                <label>Title</label>
                <input type="text"
                      [(ngModel)]="manualBook.title"
                      name="title"/>
              </div>

              <div class="form-group">
                <label>Authors</label>
                <input type="text"
                      [(ngModel)]="manualBook.authors"
                      name="authors"/>
              </div>

              <div class="form-group">
                <label>LCCN</label>
                <input type="text"
                      [(ngModel)]="manualBook.lccn"
                      name="lccn" />
              </div>

              <div class="form-group">
                <label>Cutter Number</label>
                <input type="text"
                      [(ngModel)]="manualBook.cutterNumber"
                      name="cutterNumber" />
              </div>

              <div class="form-group">
                <label>Publisher</label>
                <input type="text"
                      [(ngModel)]="manualBook.publisher"
                      name="publisher" />
              </div>

              <div class="form-group">
                <label>Edition</label>
                <input type="text"
                      [(ngModel)]="manualBook.edition"
                      name="edition" />
              </div>

              <div class="form-group">
                <label>Publication Year</label>
                <input type="number"
                      [(ngModel)]="manualBook.publicationYear"
                      name="publicationYear" />
              </div>

              <button type="submit" class="save-btn">
                Save Catalog Entry
              </button>

            </form>
          </div>
        </div>

        <!-- ================= RESULTS ================= -->
        <div class="results-section">
          <h3>Search Results</h3>

          <!-- ðŸ”´ LOADING -->
          <div *ngIf="isLoading" class="loading-container">
            <div class="spinner"></div>
            <p>Fetching book data...</p>
          </div>

          <!-- ðŸ”¥ NO RESULT (only after search) -->
          <div *ngIf="!isLoading && hasSearched && results.length === 0"
              class="empty-state">
            No result found.
          </div>

          <!-- RESULTS -->
          <app-book-result
            *ngFor="let book of results"
            [book]="book"
            (pin)="togglePin($event)"
            (view)="openDetails($event)">
          </app-book-result>

        </div>
      </div>
    </div>
  </div>
</div>