<div class="layout-container">

  <div class="main-content">

    <div class="content-wrapper">

      <!-- ================= PAGE HEADER ================= -->
      <div class="page-header">

        <h2 class="page-title">Search Logs</h2>

        <button
          *ngIf="logs.length > 0"
          class="delete-all-btn"
          (click)="deleteAll()">
          Delete All Logs
        </button>

      </div>

      <!-- ================= FILTER SECTION ================= -->
      <div class="filter-section">

        <div class="search-row">

          <select class="search-select" [(ngModel)]="searchBy">
            <option value="title">Title</option>
            <option value="author">Author</option>
            <option value="isbn">ISBN</option>
          </select>

          <input
            type="text"
            class="search-input"
            placeholder="Enter value..."
            [(ngModel)]="keyword"
          />

          <button class="search-btn" (click)="search()">Search</button>
          <button class="reset-btn" (click)="resetFilters()">Reset</button>

        </div>

      </div>

      <!-- ================= LOADING ================= -->
      <div class="no-results" *ngIf="isLoading">
        Loading search logs...
      </div>

      <!-- ================= RESULTS ================= -->
      <div class="results-section" *ngIf="!isLoading && logs.length > 0">

        <div
          class="card-wrapper"
          *ngFor="let log of paginatedLogs; trackBy: trackById">

          <div class="log-meta">
            Searched on {{ log.searchedAt | date:'medium' }}
          </div>

          <div class="card-container">

            <app-book-result
              [book]="log"
              (pin)="togglePin($event)">
            </app-book-result>

            <button
              class="delete-btn"
              (click)="deleteLog(log)">
              ðŸ—‘
            </button>

          </div>

        </div>

      </div>

      <!-- ================= PAGINATION ================= -->
      <div class="pagination" *ngIf="totalPages > 1">

        <button
          (click)="prevPage()"
          [disabled]="currentPage === 1">
          â—€
        </button>

        <button
          *ngFor="let page of [].constructor(totalPages); let i = index"
          [class.active]="currentPage === i + 1"
          (click)="changePage(i + 1)">
          {{ i + 1 }}
        </button>

        <button
          (click)="nextPage()"
          [disabled]="currentPage === totalPages">
          â–¶
        </button>

      </div>

      <!-- ================= EMPTY ================= -->
      <div class="no-results" *ngIf="!isLoading && logs.length === 0">
        No search logs found.
      </div>

    </div>

  </div>

</div>
