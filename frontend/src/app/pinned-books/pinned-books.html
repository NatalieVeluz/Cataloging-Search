<div class="layout-container">


  <div class="main-content">

    <div class="content-wrapper">
      <!-- ================= FILTER SECTION ================= -->
      <div class="filter-section">

        <!-- Title inside card (top-left visible) -->
        <div class="filter-header">
          <h2 class="page-title">Pinned Books</h2>
        </div>

        <div class="search-row">

          <select class="search-select" [(ngModel)]="searchBy">
            <option value="title">Title</option>
            <option value="author">Author</option>
            <option value="isbn">ISBN</option>
          </select>

          <input
            type="text"
            class="search-input"
            placeholder="Enter value..."
            [(ngModel)]="keyword"
          />

          <button class="search-btn" (click)="search()">Search</button>
          <button class="reset-btn" (click)="resetFilters()">Reset</button>

        </div>

      </div>

      <!-- ================= LOADING ================= -->
      <div class="no-results" *ngIf="isLoading">
        Loading pinned books...
      </div>

      <!-- ================= RESULTS ================= -->
      <div class="results-section"
           *ngIf="!isLoading && filteredBooks.length > 0">

        <div
          class="card-wrapper"
          *ngFor="let book of paginatedBooks; trackBy: trackByIsbn">

          <app-book-result
            [book]="book"
            (pin)="togglePin($event)">
          </app-book-result>

        </div>

        <!-- ================= PAGINATION ================= -->
        <div class="pagination" *ngIf="totalPages > 1">

          <button
            (click)="prevPage()"
            [disabled]="currentPage === 1">
            ◀
          </button>

          <button
            *ngFor="let page of [].constructor(totalPages); let i = index"
            [class.active]="currentPage === i + 1"
            (click)="changePage(i + 1)">
            {{ i + 1 }}
          </button>

          <button
            (click)="nextPage()"
            [disabled]="currentPage === totalPages">
            ▶
          </button>

        </div>

      </div>

      <!-- ================= EMPTY STATE ================= -->
      <div class="no-results"
           *ngIf="!isLoading && filteredBooks.length === 0">
        No pinned books found.
      </div>

    </div>

  </div>

</div>
